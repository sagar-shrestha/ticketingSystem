<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)">
<head>
    <meta charset="UTF-8">
    <title>Ticketing System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"/>
</head>
<body>

<!--Start Navbar-->
<nav class="border-b-2 shadow-md h-auto w-full px-12 text-base bg-[#181c32] rounded-t-md">
    <div class="flex justify-between items-center">
        <a class="" th:href="@{/web/home}">
            <img class="w-1/2" src="https://app.cellpay.com.np/img/cellpay_logo.svg"
                 alt="Cellpay Enterprise"/>
        </a>
        <!--        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"-->
        <!--                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">-->
        <!--            <span class="navbar-toggler-icon"></span>-->
        <!--        </button>-->
        <div class="flex items-center" id="navbarSupportedContent">
            <form class="flex">
                <!--                <input class="border outline-0 rounded-md px-2" type="search" placeholder="Search" aria-label="Search">-->
                <!--&lt;!&ndash;                <button class="bg-[#009ef7] text-white px-4 py-2 rounded-md" type="submit">Search</button>&ndash;&gt;-->
                <!--                <i class="material-icons">search</i>-->
                <div class="relative">
                    <input type="text"
                           class="w-[20rem] py-2 pl-10 pr-4 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500 text-slate-200	placeholder:text-slate-400"
                           placeholder="Enter Mobile Number">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                        <span class="material-symbols-outlined text-slate-400">search</span>
                    </div>
                </div>
            </form>
<!--            <div class="flex items-center px-3">-->
<!--                <div class="flex px-3">-->
<!--                    <span class="material-symbols-outlined text-sky-700 text-[30px]">notifications_active</span>-->
<!--                </div>-->
                <div class="flex items-center">
                    <div class="px-2 ml-6 text-white text-right">
                        <h1>Nabaraj Magar</h1>
                        <p CLASS="text-xs font-normal">nabaraj.magar@cellcom.net.np</p>
                    </div>
                    <span class="material-symbols-outlined text-[40px] text-white font-normal border border-white rounded-full">person</span>

                </div>
            </div>

        </div>
    </div>
</nav>
<!--End Navbar-->


<!--Sidebar-->
<div class="flex w-full">
    <div class="flex w-full">
        <div class="w-1/5 ml-[3rem] mt-[3rem] pt-[3rem] px-4 shadow-md border  rounded-md text-slate-400">
            <h1 class="pl-4 text-slate-400 font-semibold">Crm</h1>
            <ul class="navbar-nav ">

                <li class="">
                    <a class="dropdown-toggle hover:bg-sky-700 hover:text-white py-2 inline-block w-full pl-4 flex items-center justify-between"
                       href="#" id="ticketNavbarDropdown" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <div class="flex items-center">
                             <span class="material-symbols-outlined">
token
</span> Ticket Topic
                        </div>
                      <span class="material-symbols-outlined arrow">
keyboard_arrow_right
</span>
                    </a>
                    <ul class="dropdown-menu hidden" aria-labelledby="navbarDropdown">
                        <li class="hover:bg-sky-700 hover:text-white py-2"
                            sec:authorize="hasAnyRole('SUPER_ADMIN','VIEW_BANKS')">
                            <a class="pl-4 flex items-center" th:href="@{/web/ticketTopic}"><span
                                    class="material-symbols-outlined px-2">
add
</span>Add Ticket Topic</a>
                        </li>
                        <li class="hover:bg-sky-700 hover:text-white py-2"
                            sec:authorize="hasAnyRole('SUPER_ADMIN','VIEW_BANKS')"><a class="pl-4 flex items-center"
                                                                                      th:href="@{/web/getAllTopic}"><span
                                class="material-symbols-outlined px-2">
visibility
 </span>View
                            Ticket Topic</a></li>
                    </ul>
                </li>

                <li class="">
                    <a class="dropdown-toggle hover:bg-sky-700 hover:text-white py-2 inline-block w-full pl-4 flex items-center justify-between" href="#"
                       id="navbarDropdown" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <div class="flex items-center">
                                                   <span class="material-symbols-outlined">
functions
</span>Actions
                        </div>
                        <span class="material-symbols-outlined arrow">
keyboard_arrow_right
</span>

                    </a>
                    <ul class="dropdown-menu hidden" aria-labelledby="navbarDropdown">
                        <li class="hover:bg-sky-700 hover:text-white py-2"
                            sec:authorize="hasAnyRole('SUPER_ADMIN','VIEW_BANKS')">
                            <a class="pl-4 flex items-center" th:href="@{/web/ticketTopic}"><span
                                    class="material-symbols-outlined px-2">
add
</span>Add Ticket Topic</a>
                        </li>
                        <li class="hover:bg-sky-700 hover:text-white py-2"
                            sec:authorize="hasAnyRole('SUPER_ADMIN','VIEW_BANKS')">
                            <a class="pl-4 flex items-center" th:href="@{/web/ticketTopic}"><span
                                    class="material-symbols-outlined px-2">
add
</span>Add Ticket Topic</a>
                        </li>
                        <li>
                            <hr class="drop-shadow-md">
                        </li>
                        <li class="hover:bg-sky-700 hover:text-white py-2"
                            sec:authorize="hasAnyRole('SUPER_ADMIN','VIEW_BANKS')">
                            <a class="pl-4 flex items-center" th:href="@{/web/ticketTopic}"><span
                                    class="material-symbols-outlined px-2">
add
</span>Others</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="hover:bg-sky-700 hover:text-white py-2 inline-block w-full  pl-4 flex items-center" href="#" tabindex="-1"
                       aria-disabled="true"><span class="material-symbols-outlined">
do_not_disturb_on
</span>Disabled</a>
                </li>
            </ul>
        </div>
        <div class="flex w-full h-[100vh] justify-center">
            <div th:replace="${content}"></div>
        </div>
    </div>

</div>
<script>
    // Dropdown toggle functionality
    document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
        toggle.addEventListener('click', function () {
            const menu = this.nextElementSibling;
            menu.classList.toggle('hidden');
            const arrowIcon = this.querySelector('.arrow'); // Use class instead of id
            if (menu.classList.contains('hidden')) {
                arrowIcon.textContent = 'keyboard_arrow_right';
            } else {
                arrowIcon.textContent = 'keyboard_arrow_down';
            }
        });
    });

    // Close dropdowns when clicking outside
    window.addEventListener('click', function (event) {
        document.querySelectorAll('.dropdown-menu').forEach(menu => {
            if (!menu.contains(event.target) && !event.target.matches('.dropdown-toggle')) {
                menu.classList.add('hidden');
                const arrowIcon = menu.previousElementSibling.querySelector('.arrow'); // Use class instead of id
                arrowIcon.textContent = 'keyboard_arrow_right';
            }
        });
    });
</script>
</body>
</html>